---
layout:     post
title:      Centos初始化的配置
subtitle:    centos配置
date:       2019-7-2
author:     XT
header-img: img/post-bg-coffee.jpeg
catalog: 	 true
tags:
    - 运维
---


> centos上网

# Centos的初始安装配置

## 1.上网

ip addr查看IP地址，如果看到只有127.0.0.1，那么就需要修改配置文件

![](C:\Users\wzx\Desktop\20181123150411880.png)

```shell
cd etc/sysconfig/network-scripts/
```

```shell
vi ifcfg-ens33 
```

把其中ONBOOT=no修改为ONBOOT=yes

![](C:\Users\wzx\Desktop\20181123150209958.png)

```shell
#重启网卡
service network restart 
```

重启成功后可以 ping www.baidu.com，联网成功



## 2.换源

centos7换源

```shell
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
yum makecache
```



## 3. 安装python3

安装python3的依赖

```shell
yum -y groupinstall "Development tools"
yum -y install openssl-devel sqlite-devel bzip2-devel ncurses-devel gdbm-devel readline-devel tcl-devel tk-devel xz-devel zlib-devel db4-devel libpcap-devel
```

安装python3.5

```shell
cd /usr/local/src
wget https://www.python.org/ftp/python/3.5.1/Python-3.5.1.tgz
tar -zxf /usr/local/src/Python-3.5.1.tgz && cd Python-3.5.1
./configure --prefix=/opt/python3.5 --enable-shared
make && make install
ln -s /opt/python3.5/bin/python3 /usr/bin/python3
echo "/opt/python3.5/lib" > /etc/ld.so.conf.d/python3.5.conf
ldconfig
```

查看pythno3的版本

```shell
python3 --version
```

升级pip

```
/opt/python3.5/bin/pip3 install --upgrade pip
ln -s /opt/python3.5/bin/pip /usr/bin/pip
```



## 4. 安装mysql5.7

**4.1、安装YUM Repo**

由于CentOS 的yum源中没有mysql，需要到mysql的官网下载yum repo配置文件。

```shell
wget https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm
```

然后进行repo的安装：

```shell
rpm -ivh mysql57-community-release-el7-9.noarch.rpm
```

执行完成后会在`/etc/yum.repos.d/`目录下生成两个repo文件`mysql-community.repo` `mysql-community-source.repo`

**2、安装MySQL**

使用yum命令即可完成安装

```shell
yum install mysql-server
```

**启动msyql：**

```shell
systemctl start mysqld #启动MySQL
```

**配置MySQL**

获取安装时的临时密码：

```shell
grep 'temporary password' /var/log/mysqld.log
```

倘若没有：

1.删除原来安装过的mysql残留的数据

```shell
rm -rf /var/lib/mysql
```

2.再启动mysql

```shell
systemctl start mysqld #启动MySQL
```

**登录：**

```shell
mysql -u root -p
```

登录成功后修改密码：

```shell
set password=password("yourpassword");
```

 设置安全选项：

```shell
mysql_secure_installation
```

其他设置：

```shell
systemctl stop mysqld #关闭MySQL
systemctl restart mysqld #重启MySQL
systemctl status mysqld #查看MySQL运行状态
systemctl enable mysqld #设置开机启动
systemctl disable mysqld #关闭开机启动
```

**4.3、其他配置**

**开启远程控制**

MySQL默认是没有开启远程控制的，必须添加远程访问的用户



```shell
grant all privileges on 数据库名.表名 to 创建的用户名(root)@"%" identified by "密码"; # 数据库名.表名 如果写成*.*代表授权所有的数据库 

flush privileges; #刷新刚才的内容

#如：grant all privileges on *.* to root@"113.64.243.1" identified by "123456789";
```

@ 后面是访问mysql的客户端IP地址（或是 主机名） % 代表任意的客户端，如果填写 localhost 为本地访问（那此用户就不能远程访问该mysql数据库了）。同时也可以为现有的用户设置是否具有远程访问权限。